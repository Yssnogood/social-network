/* ===== SYSTÈME DE COULEURS HIÉRARCHIQUE SOBRE ===== */
/* Architecture à 3 niveaux : Panneaux → Tiroirs → Vignettes */
/* Palette moderne 2025 : couleurs désaturées, sans dégradés, contrastes accessibles */

:root {
  /* ===== COULEURS DE BASE ===== */
  --base-dark: #0f1419;           /* Base sombre avec légère teinte bleue (Material Design) */
  --base-surface: #1a1f25;        /* Surfaces élevées */
  --base-border: #2a2f35;         /* Bordures subtiles */
  --base-text: #e2e8f0;           /* Texte principal (ratio 4.5:1+) */
  --base-text-muted: #94a3b8;     /* Texte secondaire */

  /* ===== NIVEAU 1 : PANNEAUX VERTICAUX PRINCIPAUX ===== */
  
  /* PANNEAU PRÉSENTATION - Famille bleue désaturée (Information, statique) */
  --presentation-panel-bg: var(--base-dark);
  --presentation-panel-surface: #151b23;   /* Bleu très sombre désaturé */
  --presentation-panel-border: #2d4a7a;    /* Bleu moyen désaturé */
  --presentation-panel-accent: #4a6fa5;    /* Accent bleu accessible */
  
  /* PANNEAU COMMUNICATION - Famille verte désaturée (Interaction, dynamique) */
  --communication-panel-bg: var(--base-dark);
  --communication-panel-surface: #161b17;  /* Vert très sombre désaturé */
  --communication-panel-border: #2d5a3d;   /* Vert moyen désaturé */
  --communication-panel-accent: #4a8a6a;   /* Accent vert accessible */

  /* ===== NIVEAU 2 : TIROIRS HORIZONTAUX (6 tiroirs) ===== */
  
  /* PRÉSENTATION - Déclinaisons de la famille bleue désaturée */
  --showcase-bg: var(--presentation-panel-surface);
  --showcase-border: var(--presentation-panel-border);
  --showcase-accent: #5b7db5;         /* Bleu légèrement plus vif pour différenciation */
  --showcase-hover: #3d5a8a;          /* État hover sobre */
  
  --members-bg: #171a23;              /* Indigo très sombre désaturé */
  --members-border: #3d4a7a;          /* Indigo moyen désaturé */
  --members-accent: #6a7db5;          /* Accent indigo accessible */
  --members-hover: #4a5a8a;           /* État hover sobre */
  
  --invitations-bg: #151b20;          /* Cyan très sombre désaturé */
  --invitations-border: #2d4a5a;      /* Cyan sombre désaturé */
  --invitations-accent: #4a7d8a;      /* Accent cyan accessible */
  --invitations-hover: #3d5a6a;       /* État hover sobre */
  
  /* COMMUNICATION - Déclinaisons de la famille verte désaturée */
  --posts-bg: var(--communication-panel-surface);
  --posts-border: var(--communication-panel-border);
  --posts-accent: #5b8a7a;           /* Vert légèrement plus vif pour différenciation */
  --posts-hover: #3d6a5a;            /* État hover sobre */
  
  --messages-bg: #1b1917;            /* Ambre très sombre désaturé */
  --messages-border: #5a3d2d;        /* Ambre sombre désaturé */
  --messages-accent: #8a6a4a;        /* Accent ambre accessible */
  --messages-hover: #6a5a3d;         /* État hover sobre */
  
  --events-bg: #1b1719;             /* Rose très sombre désaturé */
  --events-border: #5a2d3d;          /* Rose sombre désaturé */
  --events-accent: #8a4a6a;          /* Accent rose accessible */
  --events-hover: #6a3d5a;           /* État hover sobre */

  /* ===== NIVEAU 3 : VIGNETTES (déjà définies dans adaptive-vignettes.css) ===== */
  --vignette-post-bg: rgba(30, 41, 59, 0.15);      /* Gris bleuté transparent */
  --vignette-post-border: rgba(77, 124, 191, 0.3);  /* Bordure bleue subtile */
  --vignette-event-bg: rgba(107, 114, 128, 0.15);   /* Gris avec nuance verte */
  --vignette-event-border: rgba(74, 138, 106, 0.3); /* Bordure verte subtile */
  --vignette-message-bg: rgba(156, 163, 175, 0.15); /* Gris avec nuance ambre */
  --vignette-message-border: rgba(138, 106, 74, 0.3); /* Bordure ambre subtile */

  /* ===== ÉTATS VISUELS (opacité, luminosité) ===== */
  --opacity-closed: 0.6;
  --opacity-compact: 0.8;
  --opacity-normal: 1.0;
  --opacity-expanded: 1.0;
  --brightness-expanded: 1.1;
  --brightness-drawer-expanded: 1.05;
}

/* ===== CLASSES POUR LES PANNEAUX VERTICAUX (SOBRES) ===== */

.vertical-panel-presentation {
  background: var(--presentation-panel-bg);
  border: 1px solid var(--presentation-panel-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.vertical-panel-communication {
  background: var(--communication-panel-bg);
  border: 1px solid var(--communication-panel-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Poignées des panneaux verticaux - COULEURS UNIES SOBRES */
.vertical-panel-handle-presentation {
  background: var(--presentation-panel-surface);
  border-bottom: 2px solid var(--presentation-panel-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.vertical-panel-handle-presentation:hover {
  background: var(--presentation-panel-border);
  border-bottom-color: var(--presentation-panel-accent);
}

.vertical-panel-handle-communication {
  background: var(--communication-panel-surface);
  border-bottom: 2px solid var(--communication-panel-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.vertical-panel-handle-communication:hover {
  background: var(--communication-panel-border);
  border-bottom-color: var(--communication-panel-accent);
}

/* ===== CLASSES POUR LES TIROIRS HORIZONTAUX ===== */

/* Tiroirs de présentation */
.drawer-showcase {
  background: var(--showcase-bg);
  border-left: 3px solid var(--showcase-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.drawer-members {
  background: var(--members-bg);
  border-left: 3px solid var(--members-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.drawer-invitations {
  background: var(--invitations-bg);
  border-left: 3px solid var(--invitations-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Tiroirs de communication */
.drawer-posts {
  background: var(--posts-bg);
  border-left: 3px solid var(--posts-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.drawer-messages {
  background: var(--messages-bg);
  border-left: 3px solid var(--messages-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.drawer-events {
  background: var(--events-bg);
  border-left: 3px solid var(--events-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===== HEADERS DES TIROIRS - COULEURS UNIES SOBRES ===== */

/* Headers présentation - Famille bleue désaturée */
.drawer-header-showcase {
  background: var(--showcase-bg);
  border-bottom: 1px solid var(--showcase-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.drawer-header-showcase:hover {
  background: var(--showcase-hover);
  border-bottom-color: var(--showcase-accent);
}

.drawer-header-members {
  background: var(--members-bg);
  border-bottom: 1px solid var(--members-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.drawer-header-members:hover {
  background: var(--members-hover);
  border-bottom-color: var(--members-accent);
}

.drawer-header-invitations {
  background: var(--invitations-bg);
  border-bottom: 1px solid var(--invitations-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.drawer-header-invitations:hover {
  background: var(--invitations-hover);
  border-bottom-color: var(--invitations-accent);
}

/* Headers communication - Famille verte désaturée */
.drawer-header-posts {
  background: var(--posts-bg);
  border-bottom: 1px solid var(--posts-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.drawer-header-posts:hover {
  background: var(--posts-hover);
  border-bottom-color: var(--posts-accent);
}

.drawer-header-messages {
  background: var(--messages-bg);
  border-bottom: 1px solid var(--messages-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.drawer-header-messages:hover {
  background: var(--messages-hover);
  border-bottom-color: var(--messages-accent);
}

.drawer-header-events {
  background: var(--events-bg);
  border-bottom: 1px solid var(--events-border);
  transition: all 0.3s ease;
  color: var(--base-text);
}

.drawer-header-events:hover {
  background: var(--events-hover);
  border-bottom-color: var(--events-accent);
}

/* ===== ÉTATS SELON LES PROPORTIONS ===== */

/* États des panneaux verticaux */
.vertical-panel-closed {
  opacity: var(--opacity-closed);
}

.vertical-panel-compact {
  opacity: var(--opacity-compact);
}

.vertical-panel-normal {
  opacity: var(--opacity-normal);
}

.vertical-panel-expanded {
  opacity: var(--opacity-expanded);
  filter: brightness(var(--brightness-expanded));
}

/* États des tiroirs horizontaux */
.drawer-closed {
  opacity: var(--opacity-closed);
  width: 40px;
  border-left-width: 2px;
}

.drawer-compact {
  opacity: var(--opacity-compact);
  border-left-width: 3px;
  box-shadow: inset 2px 0 4px rgba(0,0,0,0.1);
}

.drawer-normal {
  opacity: var(--opacity-normal);
  border-left-width: 3px;
  box-shadow: inset 3px 0 6px rgba(0,0,0,0.1);
}

.drawer-expanded {
  opacity: var(--opacity-expanded);
  border-left-width: 4px;
  box-shadow: inset 4px 0 8px rgba(0,0,0,0.15);
  filter: brightness(var(--brightness-drawer-expanded));
}

/* ===== RESPONSIVE - Adaptations mobiles ===== */
@media (max-width: 768px) {
  /* Bordures plus visibles sur mobile */
  .drawer-showcase,
  .drawer-members,
  .drawer-invitations,
  .drawer-posts,
  .drawer-messages,
  .drawer-events {
    border-left-width: 4px;
  }
  
  .drawer-closed {
    border-left-width: 3px;
  }
  
  .drawer-expanded {
    border-left-width: 5px;
  }
}

/* ===== ACCESSIBILITÉ ===== */
@media (prefers-contrast: high) {
  :root {
    --showcase-border: #3b82f6;        /* Plus contrasté */
    --members-border: #6366f1;
    --invitations-border: #06b6d4;
    --posts-border: #34d399;
    --messages-border: #fbbf24;
    --events-border: #f87171;
  }
}

@media (prefers-reduced-motion: reduce) {
  .vertical-panel-presentation,
  .vertical-panel-communication,
  .drawer-showcase,
  .drawer-members,
  .drawer-invitations,
  .drawer-posts,
  .drawer-messages,
  .drawer-events,
  .drawer-header-showcase,
  .drawer-header-members,
  .drawer-header-invitations,
  .drawer-header-posts,
  .drawer-header-messages,
  .drawer-header-events {
    transition: none !important;
  }
}